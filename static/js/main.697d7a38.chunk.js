(window.webpackJsonptodoist=window.webpackJsonptodoist||[]).push([[0],{15:function(e,t,a){e.exports=a(28)},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),o=a(1),s=a(2),l=a(3),d=a.n(l),i=a(13),u=a.n(i);a(21);a(24).config();var m=u.a.initializeApp({apiKey:"AIzaSyCIhmVqIlMcTMjp02vaukUjjNI8rHi1nQc",authDomain:"todoist-6a2bb.firebaseapp.com",databaseURL:"https://todoist-6a2bb.firebaseio.com",projectId:"todoist-6a2bb",storageBucket:"todoist-6a2bb.appspot.com",messagingSenderId:"425295847230",appId:"1:425295847230:web:968959d1c2b01c77b6966f"}),j=a(14),p=[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Today"},{key:"NEXT_7",name:"Next 7 days"}],f=function(e){return p.find(function(t){return t.key===e})},k=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=[];return function(){for(var a=(new Date).getTime(),n=new Array(8),c=7;c>=0;c--)n[c]=e.charAt(a%64),a=Math.floor(a/64);var r=n.join("");for(c=0;c<12;c++)r+=e.charAt(t[c]);return r}}();function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach(function(t){Object(j.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var v=Object(n.createContext)(),O=function(e){var t=e.children,a=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){m.firestore().collection("projects").where("userId","==","asdfsadkjfnaskjdfbagl").orderBy("projectId").get().then(function(e){var t=e.docs.map(function(e){return b({},e.data(),{docId:e.id})});JSON.stringify(t)!==JSON.stringify(a)&&c(t)})},[a]),{projects:a,setProjects:c}}(),r=a.projects,s=a.setProjects;return c.a.createElement(v.Provider,{value:{projects:r,setProjects:s}},t)},h=function(){return Object(n.useContext)(v)},_=Object(n.createContext)(),N=function(e){var t=e.children,a=Object(n.useState)("INBOX"),r=Object(o.a)(a,2),s=r[0],l=r[1];return c.a.createElement(_.Provider,{value:{selectedProject:s,setSelectedProject:l}},t)},y=function(){return Object(n.useContext)(_)},w=function(e){var t=e.setProject,a=e.showProjectOverlay,n=e.setShowProjectOverlay,r=h().projects;return r&&a&&c.a.createElement("div",{className:"project-overlay","data-testid":"project-overlay"},c.a.createElement("ul",{className:"project-overlay__list"},r.map(function(e){return c.a.createElement("li",{key:e.projectId,"data-testid":"project-overlay__list",onClick:function(){t(e.projectId),n(!1)}},e.name)})))},S=function(e){var t=e.setTaskDate,a=e.showTaskDate,n=e.setShowTaskDate;return a&&c.a.createElement("div",{className:"task-date","data-testid":"task-date-overlay"},c.a.createElement("ul",{className:"task-date__list"},c.a.createElement("li",{onClick:function(){n(!1),t(d()().format("DD/MM/YYYY"))},"data-testid":"task-date-overlay"},c.a.createElement("span",null,c.a.createElement(s.h,null)),c.a.createElement("span",null,"Today")),c.a.createElement("li",{onClick:function(){n(!1),t(d()().add(1,"day").format("DD/MM/YYYY"))},"data-testid":"task-date-tomorrow"},c.a.createElement("span",null,c.a.createElement(s.i,null)),c.a.createElement("span",null,"Tomorrow")),c.a.createElement("li",{onClick:function(){n(!1),t(d()().add(7,"day").format("DD/MM/YYYY"))},"data-testid":"task-date-tomorrow"},c.a.createElement("span",null,c.a.createElement(s.g,null)),c.a.createElement("span",null,"Next week"))))},g=function(e){var t=e.showAddTaskMain,a=void 0===t||t,r=e.showShouldMain,l=void 0!==r&&r,i=e.showQuickAddTask,u=e.setShowQuickAddTask,j=Object(n.useState)(""),p=Object(o.a)(j,2),f=p[0],k=p[1],E=Object(n.useState)(""),b=Object(o.a)(E,2),v=b[0],O=b[1],h=Object(n.useState)(""),_=Object(o.a)(h,2),N=_[0],g=_[1],D=Object(n.useState)(l),I=Object(o.a)(D,2),C=I[0],T=I[1],Y=Object(n.useState)(!1),P=Object(o.a)(Y,2),M=P[0],x=P[1],A=Object(n.useState)(!1),X=Object(o.a)(A,2),B=X[0],Q=X[1],q=y().selectedProject,J=function(){var e=N||q,t="";return"TODAY"===e?t=d()().format("DD/MM/YYYY"):"NEXT_7"===e&&(t=d()().add(7,"days").format("DD/MM/YYYY")),f&&e&&m.firestore().collection("tasks").add({archived:!1,projectId:e,task:f,date:t||v,userId:"asdfsadkjfnaskjdfbagl"}).then(function(){k(""),g(""),T(""),x(!1)})};return console.log(C||i),c.a.createElement("div",{className:i?"add-task add-task__overlay":"add-task","data-testid":"add-task-comp"},a&&c.a.createElement("div",{className:"add-task__shallow","data-testid":"show-main-action",onClick:function(){return T(!C)}},c.a.createElement("span",{className:"add-task__plus"},"+"),c.a.createElement("span",{className:"add-task__text"},"Add Task")),(C||i)&&c.a.createElement("div",{className:"add-task__main","data-testid":"add-task-main"},i&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{"data-testid":"quick-add-task"},c.a.createElement("h2",{className:"header"},"Quick Add Task"),c.a.createElement("span",{className:"add-task__cancel-x","data-testid":"add-task-quick-cancel",onClick:function(){T(!1),x(!1),u(!1)}},"X"))),c.a.createElement(w,{setProject:g,showProjectOverlay:M,setShowProjectOverlay:x}),c.a.createElement(S,{setTaskDate:O,showTaskDate:B,setShowTaskDate:Q}),c.a.createElement("input",{className:"add-task__content","data-testid":"add-task-content",type:"text",value:f,onChange:function(e){return k(e.target.value)}}),c.a.createElement("button",{type:"button",className:"add-task__submit","data-testid":"add-task",onClick:function(){return i?J()&&u(!1):J()}},"AddTask"),!i&&c.a.createElement("span",{className:"add-task__cancel","data-testid":"add-task-main-cancel",onClick:function(){T(!1),x(!1)}},"Cancel"),c.a.createElement("span",{className:"add-task__project","data-test-id":"show-project-overlay",onClick:function(){return x(!M)}},c.a.createElement(s.f,null)),c.a.createElement("span",{className:"add-task__date","data-testid":"show-task-date-overlay",onClick:function(){return Q(!B)}},c.a.createElement(s.e,null))))},D=function(e){var t=e.darkMode,a=e.setDarkMode,r=Object(n.useState)(!1),l=Object(o.a)(r,2),d=l[0],i=l[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),j=m[0],p=m[1];return c.a.createElement("header",{className:"header","data-testid":"header"},c.a.createElement("nav",null,c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:"/images/logo.png",alt:"Todoist"})),c.a.createElement("div",{className:"settings"},c.a.createElement("ul",null,c.a.createElement("li",{"data-testid":"quick-add-task-action",className:"settings__add",onClick:function(){p(!0),i(!0)}},"+"),c.a.createElement("li",{"data-testid":"dark-mode-action",onClick:function(){return a(!t)}},c.a.createElement(s.c,null))))),c.a.createElement(g,{showAddTaskMain:!1,shouldShowMain:d,showQuickAddTask:j,setShowQuickAddTask:p}))},I=a(4),C=function(e){var t=e.project,a=Object(n.useState)(!1),r=Object(o.a)(a,2),l=r[0],d=r[1],i=h(),u=i.projects,j=i.setProjects,p=y().setSelectedProject;return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"sidebar__dot"},"\u2022"),c.a.createElement("span",{className:"sidebar__project-name"},t.name),c.a.createElement("span",{className:"sidebar__project-delete","data-testid":"delete-project",onClick:function(){d(!l)}},c.a.createElement(s.j,null),l&&c.a.createElement("div",{className:"project-delete-modal"},c.a.createElement("div",{className:"project-delete-modal__inner"},c.a.createElement("p",null,"Are you sure you wawnt to delete this project?"),c.a.createElement("button",{type:"button",onClick:function(){return e=t.docId,void m.firestore().collection("projects").doc(e).delete().then(function(){j(Object(I.a)(u)),p("INBOX")});var e}},"Delete"),c.a.createElement("span",{onClick:function(){return d(!l)}},"Cancel")))))},T=function(e){var t=e.activeValue,a=void 0===t?null:t,r=Object(n.useState)(a),s=Object(o.a)(r,2),l=s[0],d=s[1],i=y().setSelectedProject,u=h().projects;return u&&u.map(function(e){return c.a.createElement("li",{key:e.docId,"data-doc-id":e.docId,"data-testid":"project-action",className:l===e.projectId?"active sidebar__project":"sidebar__project",onKeyDown:function(){d(e.projectId),i(e.projectId)},onClick:function(){d(e.projectId),i(e.projectId)}},c.a.createElement(C,{project:e}))})},Y=function(e){var t=e.shouldShow,a=void 0!==t&&t,r=Object(n.useState)(a),s=Object(o.a)(r,2),l=s[0],d=s[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),j=u[0],p=u[1],f=k(),E=h(),b=E.projects,v=E.setProjects;return c.a.createElement("div",{className:"add-project","data-testid":"add-project"},l&&c.a.createElement("div",{className:"add-project__input"},c.a.createElement("input",{value:j,onChange:function(e){return p(e.target.value)},className:"add-project__name","data-testid":"project-name",type:"text",placeholder:"Name your project"}),c.a.createElement("button",{className:"add-project__submit",type:"button",onClick:function(){return j&&m.firestore().collection("projects").add({projectId:f,name:j,userId:"asdfsadkjfnaskjdfbagl"}).then(function(){v(Object(I.a)(b)),p(""),d(!1)})},"data-testid":"add-project-submit"},"Add Project"),c.a.createElement("span",{"data-testid":"hide-project-overlay",className:"add-project__cancel",onClick:function(){return d(!1)}},"Cancel")),c.a.createElement("span",{className:"add-project__plus"},"+"),c.a.createElement("span",{"data-testid":"add-project-action",className:"add-project__text",onClick:function(){return d(!l)}},"Add Project"))},P=function(){var e=y().setSelectedProject,t=Object(n.useState)("inbox"),a=Object(o.a)(t,2),r=a[0],l=a[1],d=Object(n.useState)(!0),i=Object(o.a)(d,2),u=i[0],m=i[1];return c.a.createElement("div",{className:"sidebar","data-testid":"sidebar"},c.a.createElement("ul",{className:"sidebar__generic"},c.a.createElement("li",{"data-testid":"inbox",className:"inbox"===r?"active":void 0,onClick:function(){l("inbox"),e("INBOX")}},c.a.createElement("span",null,c.a.createElement(s.b,null)),c.a.createElement("span",null,"Inbox")),c.a.createElement("li",{"data-testid":"today",className:"today"===r?"active":void 0,onClick:function(){l("today"),e("TODAY")}},c.a.createElement("span",null,c.a.createElement(s.d,null)),c.a.createElement("span",null,"Today")),c.a.createElement("li",{"data-testid":"next_7",className:"next_7"===r?"active":void 0,onClick:function(){l("next_7"),e("NEXT_7")}},c.a.createElement("span",null,c.a.createElement(s.e,null)),c.a.createElement("span",null,"Next 7 day"))),c.a.createElement("div",{className:"sidebar__middle",onClick:function(){return m(!u)}},c.a.createElement("span",null,c.a.createElement(s.a,{className:u?void 0:"hidden-projects"})),c.a.createElement("h2",null,"Projects")),c.a.createElement("ul",{className:"sidebar__projects"},u&&c.a.createElement(T,null)),u&&c.a.createElement(Y,null))},M=function(e){var t=e.id;return c.a.createElement("div",{className:"checkbox-holder","data-testid":"checkbox-action",onClick:function(){return function(e){m.firestore().collection("tasks").doc(e).update({archived:!0})}(t)}},c.a.createElement("span",{className:"checkbox"}))},x=function(){var e=y().selectedProject,t=h().projects,a=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),i=l[0],u=l[1];return Object(n.useEffect)(function(){var t=m.firestore().collection("tasks").where("userId","==","asdfsadkjfnaskjdfbagl");return t=(t=e&&!f(e)?t=t.where("projectId","==",e):"TODAY"===e?t=t.where("date","==",d()().format("DD/MM/YYYY")):"INBOX"===e||0===e?t=t.where("date","==",""):t).onSnapshot(function(t){var a=t.docs.map(function(e){return b({id:e.id},e.data())});r("NEXT_7"===e?a.filter(function(e){return d()(e.date,"DD-MM-YYYY").diff(d()(),"days")<=7&&!0!==e.archived}):a.filter(function(e){return!0!==e.archived})),u(a.filter(function(e){return!1!==e.archived}))}),function(){return t()}},[e]),{tasks:c,archivedTasks:i}}(e).tasks,r="";return t&&t.length>0&&e&&!f(e)&&(r=function(e,t){return e.find(function(e){return e.projectId===t})}(t,e).name),f(e)&&e&&(r=function(e,t){return e.find(function(e){return e.key===t})}(p,e).name),Object(n.useEffect)(function(){document.title="".concat(r,": Todoist")},[]),c.a.createElement("div",{className:"tasks","data-testid":"tasks"},c.a.createElement("h2",{"data-testid":"project-name"},r),c.a.createElement("ul",{className:"tasks__list"},a.map(function(e){return c.a.createElement("li",{key:"".concat(e.id)},c.a.createElement(M,{id:e.id}),c.a.createElement("span",null,e.task))})),c.a.createElement(g,null))},A=function(){return c.a.createElement("section",{className:"content"},c.a.createElement(P,null),c.a.createElement(x,null))};a(27);Object(r.render)(c.a.createElement(function(e){var t=e.darkModeDefault,a=void 0!==t&&t,r=Object(n.useState)(a),s=Object(o.a)(r,2),l=s[0],d=s[1];return c.a.createElement(N,null,c.a.createElement(O,null,c.a.createElement("main",{"data-testid":"application",className:l?"darkmode":void 0},c.a.createElement(D,{darkMode:l,setDarkMode:d}),c.a.createElement(A,null))))},null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.697d7a38.chunk.js.map